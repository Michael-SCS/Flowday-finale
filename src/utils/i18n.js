import { useMemo } from 'react';
import { useSettings } from './settingsContext';

const translations = {
  es: {
    auth: {
      loginTitle: 'Iniciar sesiÃ³n',
      loginSubtitle: 'Organiza tu dÃ­a y tus hÃ¡bitos',
      emailLabel: 'Correo electrÃ³nico',
      passwordLabel: 'ContraseÃ±a',
      loginButton: 'Entrar',
      loginButtonLoading: 'Entrandoâ€¦',
      goToRegister: 'Crear cuenta',
      errorInvalidCredentials: 'Correo o contraseÃ±a incorrectos',
    },
    register: {
      title: 'Crear cuenta',
      step1Title: 'InformaciÃ³n bÃ¡sica',
      step2Title: 'Datos de acceso',
      next: 'Siguiente',
      back: 'AtrÃ¡s',
      submit: 'Registrarme',
      subtitle: 'Empieza a organizar tu vida',
      creating: 'Creando cuentaâ€¦',
      goToLogin: 'Ya tengo una cuenta',
      errorNameRequired: 'Por favor, ingresa tu nombre.',
      genderModalTitle: 'Selecciona tu gÃ©nero',
    },
    profile: {
      settingsModalTitle: 'Ajustes de perfil y app',
      personalInfo: 'Perfil',
      firstName: 'Nombre',
      lastName: 'Apellido',
      email: 'Email',
      age: 'Edad',
      gender: 'GÃ©nero',
      genderPlaceholder: 'Selecciona gÃ©nero',
      save: 'Guardar cambios',
      saving: 'Guardando...',
      customization: 'PersonalizaciÃ³n',
      interfaceColor: 'Color de la interfaz',
      appLanguage: 'Idioma de la aplicaciÃ³n',
      privacyPolicy: 'PolÃ­tica de privacidad',
      logout: 'Cerrar sesiÃ³n',
      profileHint:
        'Usa la tuerquita de arriba para editar tus datos y personalizar la app.',
      updated: 'Perfil actualizado correctamente.',
      loading: 'Cargando perfil...',
      retry: 'Reintentar',
      themeChipLabel: 'Tema',
      languageChipLabel: 'Idioma',
      policyAccept: 'Entendido',
      loadUserError: 'No se pudo obtener el usuario actual.',
      loadProfileError: 'No se pudo cargar el perfil.',
      noProfileConfigured: 'AÃºn no tienes un perfil configurado.',
      unexpectedLoadError: 'OcurriÃ³ un error inesperado al cargar el perfil.',
      updateError: 'No se pudo actualizar el perfil.',
      unexpectedUpdateError: 'OcurriÃ³ un error al actualizar el perfil.',
      colorBlue: 'Azul',
      colorPink: 'Rosa',
      colorYellow: 'Amarillo',
      colorPurple: 'Morado',
      colorTeal: 'Verde agua',
      languageEs: 'EspaÃ±ol',
      languageEn: 'InglÃ©s',
    },
    calendar: {
      title: 'Calendario',
      todayButton: 'Hoy',
      emptyTitle: 'No hay actividades',
      emptySubtitle: 'Presiona el botÃ³n + para agregar una nueva actividad',
      selectHabitTitle: 'Selecciona un hÃ¡bito',
      loadingHabits: 'Cargando hÃ¡bitos...',
      marketDefaultTitle: 'Lista de mercado',
      marketDefaultSectionTitle: 'Lista de compras',
      vitaminsDefaultTitle: 'Vitaminas a tomar',
      vitaminsDefaultSectionTitle: 'Vitaminas',
      checklistDefaultTitle: 'Checklist',
      checklistDefaultSectionTitle: 'Espacios a organizar',
      congratsTitle: 'Â¡DÃ­a completado!',
      congratsToday:
        'Completaste todas tus actividades de hoy. Sigue asÃ­, cada pequeÃ±o paso suma.',
      congratsOther:
        'Completaste todas las actividades de este dÃ­a. Gran trabajo, estÃ¡s construyendo hÃ¡bitos poderosos.',
      congratsButton: 'Seguir organizando mi dÃ­a',
      deleteActivityTitle: 'Eliminar actividad',
      deleteActivityMessage: 'Â¿QuÃ© deseas hacer?',
      deleteOnlyThis: 'Eliminar solo esta',
      deleteThisAndNext: 'Eliminar esta y las siguientes',
      cancel: 'Cancelar',
      edit: 'Editar',
      changeHabit: 'Cambiar hÃ¡bito',
      timeConflictTitle: 'Horario no disponible',
      timeConflictMessage:
        'Ya tienes otra actividad en este horario. Ajusta la hora o la duraciÃ³n.',
      duplicateActivityTitle: 'Evento ya agendado',
      duplicateActivityMessage:
        'Ya tienes este evento agendado para este dÃ­a. Â¿Quieres volver a agendarlo?',
      duplicateConfirm: 'SÃ­, agendar de nuevo',
      duplicateCancel: 'No, cancelar',
    },
    habitForm: {
      periodLabel: 'ğŸ“… Periodo',
      startLabel: 'Inicio',
      endLabel: 'Fin',
      timeLabel: 'â° Horario',
      timeNotSet: 'Sin hora especÃ­fica',
      hasEndDateQuestion: 'Â¿Tiene fecha de fin?',
      frequencyLabel: 'ğŸ” Frecuencia',
      weeklySelectDays: 'Selecciona los dÃ­as:',
      notesLabel: 'ğŸ“ Notas',
      notesPlaceholder: 'Agrega detalles adicionales...',
      saveButton: 'Guardar',
      weeklyErrorTitle: 'Error',
      weeklyErrorMessage: 'Selecciona al menos un dÃ­a de la semana',
      frequencyOnce: 'Una vez',
      frequencyDaily: 'Diaria',
      frequencyWeekly: 'Semanal',
      frequencyMonthly: 'Mensual',
      frequencyYearly: 'Anual',
      marketProductPlaceholder: 'Producto',
      marketQtyPlaceholder: 'Cant',
      marketPricePlaceholder: '$',
      marketAddButton: 'Agregar producto',
      vitaminsNamePlaceholder: 'Vitamina',
      vitaminsQtyPlaceholder: 'Cant',
      vitaminsAddButton: 'Agregar vitamina',
      durationLabel: 'â± DuraciÃ³n del hÃ¡bito',
      durationSelectPlaceholder: 'Selecciona la duraciÃ³n del hÃ¡bito',
      durationCustom: 'Personalizado',
      durationCustomPlaceholder: 'Minutos',
      endTimeLabel: 'Hora fin',
    },
    habitList: {
      title: 'Agregar hÃ¡bito',
    },
    pomodoro: {
      title: 'Pomodoro',
      start: 'Iniciar',
      stop: 'Detener',
      custom: 'Personalizado',
      settingsTitle: 'ConfiguraciÃ³n',
      quickSettings: 'Ajustes rÃ¡pidos',
      sessions: 'Sesiones',
      total: 'Total:',
      workMinutes: 'min trabajo',
      restMinutes: 'min descanso',
      workMinutesLabel: 'Trabajo (min)',
      restMinutesLabel: 'Descanso (min)',
      saveConfig: 'Guardar configuraciÃ³n',
      preparing: 'PrepÃ¡rate...',
      workLabel: 'Trabajo',
      breakLabel: 'Descanso',
      invalidCustom: 'Revisa los minutos personalizados',
      presetCustom: 'Personalizado',
    },
  },
  en: {
    auth: {
      loginTitle: 'Sign in',
      loginSubtitle: 'Organize your day and habits',
      emailLabel: 'Email',
      passwordLabel: 'Password',
      loginButton: 'Sign in',
      loginButtonLoading: 'Signing inâ€¦',
      goToRegister: 'Create account',
      errorInvalidCredentials: 'Invalid email or password',
    },
    register: {
      title: 'Create account',
      step1Title: 'Step 1 of 2: Basic info',
      step2Title: 'Step 2 of 2: Account',
      next: 'Next',
      back: 'Back',
      submit: 'Sign up',
      subtitle: 'Start organizing your life',
      creating: 'Creating accountâ€¦',
      goToLogin: 'I already have an account',
      errorNameRequired: 'Please enter your name.',
      genderModalTitle: 'Select your gender',
    },
    profile: {
      settingsModalTitle: 'Profile & app settings',
      personalInfo: 'Profile',
      firstName: 'First name',
      lastName: 'Last name',
      email: 'Email',
      age: 'Age',
      gender: 'Gender',
      genderPlaceholder: 'Select gender',
      save: 'Save changes',
      saving: 'Saving...',
      customization: 'Customization',
      interfaceColor: 'Interface color',
      appLanguage: 'App language',
      privacyPolicy: 'Privacy policy',
      logout: 'Log out',
      profileHint:
        'Use the gear icon above to edit your data and personalize the app.',
      updated: 'Profile updated successfully.',
      loading: 'Loading profile...',
      retry: 'Try again',
      themeChipLabel: 'Theme',
      languageChipLabel: 'Language',
      policyAccept: 'Got it',
      loadUserError: 'Could not get current user.',
      loadProfileError: 'Could not load profile.',
      noProfileConfigured: "You don't have a profile configured yet.",
      unexpectedLoadError:
        'An unexpected error occurred while loading the profile.',
      updateError: 'Could not update profile.',
      unexpectedUpdateError:
        'An error occurred while updating the profile.',
      colorBlue: 'Blue',
      colorPink: 'Pink',
      colorYellow: 'Yellow',
      colorPurple: 'Purple',
      colorTeal: 'Teal',
      languageEs: 'Spanish',
      languageEn: 'English',
    },
    calendar: {
      title: 'Calendar',
      todayButton: 'Today',
      emptyTitle: 'No activities',
      emptySubtitle: 'Press the + button to add a new activity',
      selectHabitTitle: 'Select a habit',
      loadingHabits: 'Loading habits...',
      marketDefaultTitle: 'Shopping list',
      marketDefaultSectionTitle: 'Shopping list',
      vitaminsDefaultTitle: 'Vitamins to take',
      vitaminsDefaultSectionTitle: 'Vitamins',
      checklistDefaultTitle: 'Checklist',
      checklistDefaultSectionTitle: 'Spaces to organize',
      congratsTitle: 'Day completed!',
      congratsToday:
        'You completed all your activities for today. Keep going, every small step counts.',
      congratsOther:
        'You completed all the activities for this day. Great job, you are building powerful habits.',
      congratsButton: 'Keep organizing my day',
      deleteActivityTitle: 'Delete activity',
      deleteActivityMessage: 'What would you like to do?',
      deleteOnlyThis: 'Delete only this one',
      deleteThisAndNext: 'Delete this and following ones',
      cancel: 'Cancel',
      edit: 'Edit',
      changeHabit: 'Change habit',
      timeConflictTitle: 'Time not available',
      timeConflictMessage:
        'You already have another activity at this time. Adjust the time or duration.',
      duplicateActivityTitle: 'Event already scheduled',
      duplicateActivityMessage:
        'You already have this event scheduled for this day. Do you want to schedule it again?',
      duplicateConfirm: 'Yes, schedule again',
      duplicateCancel: 'No, cancel',
    },
    habitForm: {
      periodLabel: 'ğŸ“… Period',
      startLabel: 'Start',
      endLabel: 'End',
      timeLabel: 'â° Time',
      timeNotSet: 'No specific time',
      hasEndDateQuestion: 'Has end date?',
      frequencyLabel: 'ğŸ” Frequency',
      weeklySelectDays: 'Select the days:',
      notesLabel: 'ğŸ“ Notes',
      notesPlaceholder: 'Add extra details...',
      saveButton: 'Save',
      weeklyErrorTitle: 'Error',
      weeklyErrorMessage: 'Select at least one day of the week',
      frequencyOnce: 'Once',
      frequencyDaily: 'Daily',
      frequencyWeekly: 'Weekly',
      frequencyMonthly: 'Monthly',
      frequencyYearly: 'Yearly',
      marketProductPlaceholder: 'Product',
      marketQtyPlaceholder: 'Qty',
      marketPricePlaceholder: '$',
      marketAddButton: 'Add product',
      vitaminsNamePlaceholder: 'Vitamin',
      vitaminsQtyPlaceholder: 'Qty',
      vitaminsAddButton: 'Add vitamin',
      durationLabel: 'â± Habit duration',
      durationSelectPlaceholder: 'Select the time for this habit',
      durationCustom: 'Custom',
      durationCustomPlaceholder: 'Minutes',
      endTimeLabel: 'End time',
    },
    habitList: {
      title: 'Add habit',
    },
    pomodoro: {
      title: 'Pomodoro',
      start: 'Start',
      stop: 'Stop',
      custom: 'Custom',
      settingsTitle: 'Settings',
      quickSettings: 'Quick settings',
      sessions: 'Sessions',
      total: 'Total:',
      workMinutes: 'min work',
      restMinutes: 'min break',
      workMinutesLabel: 'Work (min)',
      restMinutesLabel: 'Break (min)',
      saveConfig: 'Save configuration',
      preparing: 'Get ready...',
      workLabel: 'Work',
      breakLabel: 'Break',
      invalidCustom: 'Check your custom minutes',
      presetCustom: 'Custom',
    },
  },
};

export function translate(path, language) {
  const langKey = translations[language] ? language : 'es';
  const parts = path.split('.');
  let current = translations[langKey];
  for (const p of parts) {
    if (!current || typeof current !== 'object') return path;
    current = current[p];
  }
  return current || path;
}

export function useI18n() {
  const { language } = useSettings();

  const t = useMemo(() => {
    return (path) => translate(path, language);
  }, [language]);

  return { t };
}
